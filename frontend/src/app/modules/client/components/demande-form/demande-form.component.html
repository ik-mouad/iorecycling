<div class="demande-form-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Demander un enl√®vement</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <p class="info-message">
        üí° Remplissez ce formulaire pour demander un enl√®vement ponctuel.
        Vous serez notifi√© d√®s que votre demande sera trait√©e.
      </p>

      <form [formGroup]="demandeForm" (ngSubmit)="onSubmit()">
        
        <!-- Date souhait√©e -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Date souhait√©e *</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="dateSouhaitee">
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-hint>Date √† laquelle vous souhaitez l'enl√®vement</mat-hint>
        </mat-form-field>

        <!-- Heure souhait√©e -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Heure souhait√©e (optionnel)</mat-label>
          <input matInput formControlName="heureSouhaitee" placeholder="Ex: 09h00 - 11h00">
          <mat-hint>Plage horaire souhait√©e</mat-hint>
        </mat-form-field>

        <!-- Site -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Site *</mat-label>
          <mat-select formControlName="siteId">
            <mat-option *ngFor="let site of sites" [value]="site.id">
              {{ site.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Type de d√©chets estim√© -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Type de d√©chets estim√©</mat-label>
          <input matInput formControlName="typeDechetEstime" placeholder="Ex: Carton et plastique">
          <mat-hint>Type de d√©chets √† collecter</mat-hint>
        </mat-form-field>

        <!-- Quantit√© estim√©e -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Quantit√© estim√©e (kg)</mat-label>
          <input matInput type="number" formControlName="quantiteEstimee" placeholder="Ex: 200">
          <mat-hint>Estimation du poids total</mat-hint>
        </mat-form-field>

        <!-- Commentaire -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Commentaire</mat-label>
          <textarea 
            matInput 
            formControlName="commentaire" 
            rows="4"
            placeholder="Informations compl√©mentaires...">
          </textarea>
        </mat-form-field>

        <!-- Boutons -->
        <div class="form-actions">
          <button mat-button type="button" (click)="cancel()" [disabled]="loading">
            Annuler
          </button>
          <button mat-raised-button color="primary" type="submit" [disabled]="demandeForm.invalid || loading">
            {{ loading ? 'Envoi en cours...' : 'Envoyer la demande' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>

