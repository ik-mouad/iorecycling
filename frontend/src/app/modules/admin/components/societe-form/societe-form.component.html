<div class="societe-form-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        {{ isEditMode ? 'Modifier la société' : 'Nouvelle société' }}
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="societeForm" (ngSubmit)="onSubmit()">
        
        <!-- Raison Sociale -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Raison Sociale *</mat-label>
          <input matInput formControlName="raisonSociale" placeholder="YAZAKI MOROCCO KENITRA">
          <mat-error *ngIf="societeForm.get('raisonSociale')?.invalid">
            {{ getErrorMessage('raisonSociale') }}
          </mat-error>
        </mat-form-field>

        <!-- ICE -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>ICE (15 chiffres) *</mat-label>
          <input matInput formControlName="ice" placeholder="002345678901234" maxlength="15">
          <mat-hint *ngIf="isEditMode">L'ICE n'est pas modifiable</mat-hint>
          <mat-error *ngIf="societeForm.get('ice')?.invalid">
            {{ getErrorMessage('ice') }}
          </mat-error>
        </mat-form-field>

        <!-- Email -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email *</mat-label>
          <input matInput type="email" formControlName="email" placeholder="contact@entreprise.ma">
          <mat-error *ngIf="societeForm.get('email')?.invalid">
            {{ getErrorMessage('email') }}
          </mat-error>
        </mat-form-field>

        <!-- Téléphone -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Téléphone</mat-label>
          <input matInput formControlName="telephone" placeholder="0537123456">
          <mat-error *ngIf="societeForm.get('telephone')?.invalid">
            {{ getErrorMessage('telephone') }}
          </mat-error>
        </mat-form-field>

        <!-- Commentaire -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Commentaire</mat-label>
          <textarea 
            matInput 
            formControlName="commentaire" 
            rows="4"
            placeholder="Type de contrat, particularités, fréquence de collecte...">
          </textarea>
        </mat-form-field>

        <!-- Boutons -->
        <div class="form-actions">
          <button mat-button type="button" (click)="cancel()" [disabled]="loading">
            Annuler
          </button>
          <button mat-raised-button color="primary" type="submit" [disabled]="societeForm.invalid || loading">
            {{ isEditMode ? 'Enregistrer' : 'Créer' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
